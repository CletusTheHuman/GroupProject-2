[gd_scene load_steps=31 format=3 uid="uid://ck41sgxv63036"]

[ext_resource type="PackedScene" uid="uid://boql3uypepqrx" path="res://scenes/player.tscn" id="1_2q6dc"]
[ext_resource type="PackedScene" uid="uid://deytc5jk3r7hb" path="res://scenes/nav_region.tscn" id="2_w8frs"]
[ext_resource type="PackedScene" uid="uid://cer5ubmww8bkx" path="res://scenes/navigation_npc.tscn" id="3_mx8sn"]
[ext_resource type="PackedScene" uid="uid://dwrrn1k6h207j" path="res://scenes/mobzone.tscn" id="4_mx8sn"]
[ext_resource type="PackedScene" uid="uid://dmgxmmgudbgqo" path="res://gear.tscn" id="5_ppgk2"]
[ext_resource type="PackedScene" uid="uid://dj75ngjcft6oy" path="res://EnemyObsticle.tscn" id="6_2r41h"]
[ext_resource type="PackedScene" uid="uid://dg6db28qmnxnv" path="res://computerchair.tscn" id="7_klq6b"]
[ext_resource type="PackedScene" uid="uid://230m15pdtxnx" path="res://greychair.tscn" id="8_b121j"]
[ext_resource type="PackedScene" uid="uid://tomhbp4qdj6c" path="res://healthpotion.tscn" id="9_t1rx8"]
[ext_resource type="PackedScene" uid="uid://cey37op3ou5wd" path="res://mana_potion_2.tscn" id="10_8iemx"]
[ext_resource type="PackedScene" uid="uid://w0jpikxkke02" path="res://stamina_potion_2.tscn" id="11_64w2a"]
[ext_resource type="PackedScene" uid="uid://57sf081f2mfl" path="res://coin_new.tscn" id="12_8iemx"]
[ext_resource type="Script" uid="uid://dipp3xec41auu" path="res://scenes/kill_zone.gd" id="13_64w2a"]
[ext_resource type="Script" uid="uid://0yl76s0rybmj" path="res://scenes/win_screen.gd" id="14_arp2o"]
[ext_resource type="FontFile" uid="uid://creohhw8og2is" path="res://assets/Kenney Bold.ttf" id="14_wc255"]
[ext_resource type="Script" uid="uid://c5tnn4gisdxk" path="res://scenes/game_manager.gd" id="15_arp2o"]
[ext_resource type="FontFile" uid="uid://cqrd044jiji3j" path="res://assets/CabalBold-78yP.ttf" id="16_8gofh"]
[ext_resource type="PackedScene" uid="uid://baxwmin0mqyws" path="res://barrier.tscn" id="17_ux5qa"]
[ext_resource type="PackedScene" uid="uid://47atyymbffec" path="res://pallet.tscn" id="18_82cfe"]
[ext_resource type="PackedScene" uid="uid://dcq2v1k73q1tw" path="res://cargo.tscn" id="19_gunhw"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5xgho"]
sky_top_color = Color(0.308555, 0.410992, 1, 1)
sky_horizon_color = Color(0.77505, 0.833883, 0.950541, 1)
ground_bottom_color = Color(0.238481, 0.371374, 0.249, 1)
ground_horizon_color = Color(0.77505, 0.833883, 0.950541, 1)

[sub_resource type="Sky" id="Sky_u52ul"]
sky_material = SubResource("ProceduralSkyMaterial_5xgho")

[sub_resource type="Environment" id="Environment_vonw3"]
background_mode = 2
sky = SubResource("Sky_u52ul")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_oi3di"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_2q6dc"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="BoxShape3D" id="BoxShape3D_fpun6"]

[sub_resource type="BoxShape3D" id="BoxShape3D_64w2a"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fpun6"]
albedo_color = Color(0.784314, 0.784314, 0.380392, 1)
metallic = 1.0
metallic_specular = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_wc255"]
material = SubResource("StandardMaterial3D_fpun6")

[sub_resource type="LabelSettings" id="LabelSettings_ux5qa"]
font = ExtResource("14_wc255")
font_size = 90
font_color = Color(1, 1, 0.298039, 1)
outline_size = 2
outline_color = Color(0, 0, 0, 1)

[node name="Level" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vonw3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(12.2891, 0, 0, 0, 1, 0, 0, 0, 19.3048, 0, 0, 0)
mesh = SubResource("PlaneMesh_oi3di")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_2q6dc")

[node name="NavigationRegion3D" parent="." instance=ExtResource("2_w8frs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -24.5468)

[node name="NavigationNPC" parent="." instance=ExtResource("3_mx8sn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.03274, -24.9983)

[node name="MobZone" parent="." instance=ExtResource("4_mx8sn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -28.2618, 45.151, -28.8251)

[node name="player" parent="." instance=ExtResource("1_2q6dc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0389013, 2.09216, -20.3861)

[node name="gear1" parent="." instance=ExtResource("5_ppgk2")]
transform = Transform3D(4.09257, 0, 0, 0, 4.09257, 0, 0, 0, 4.09257, 33.0245, 7.32886, -40.942)

[node name="gear2" parent="." instance=ExtResource("5_ppgk2")]
transform = Transform3D(3.64722, 1.85659, 0, -1.85659, 3.64722, 0, 0, 0, 4.09257, 23.3228, 10.1295, -40.942)

[node name="enemy_draft" parent="." instance=ExtResource("6_2r41h")]
transform = Transform3D(0.195518, 0, 0.9807, 0, 1, 0, -0.9807, 0, 0.195518, 17.4909, 14.0148, -40.0708)

[node name="enemy_draft2" parent="." instance=ExtResource("6_2r41h")]
transform = Transform3D(0.195518, 0, 0.9807, 0, 1, 0, -0.9807, 0, 0.195518, 8.67281, 15.7507, -40.0708)

[node name="enemy_draft3" parent="." instance=ExtResource("6_2r41h")]
transform = Transform3D(0.195518, 0, 0.9807, 0, 1, 0, -0.9807, 0, 0.195518, -0.235722, 17.4077, -40.0708)

[node name="computer_chair_blue" parent="." instance=ExtResource("7_klq6b")]
transform = Transform3D(0.000922413, -0.00895659, -7.58673, 7.54682, 0.777225, 0, 0.777224, -7.54681, 0.00900396, -44.78, 27.4164, -21.7588)

[node name="computer_chair_grey" parent="." instance=ExtResource("8_b121j")]
transform = Transform3D(0.185265, -0.257416, 6.68555, 6.6903, -0.0451107, -0.187134, 0.0522583, 6.68797, 0.256061, 26.44, 26.4137, -19.1718)

[node name="HealthPotion2" parent="." instance=ExtResource("9_t1rx8")]
transform = Transform3D(8.43801, -25.4724, 28.6731, 37.2786, 12.3489, 0, -9.01642, 27.2185, 26.8336, -10.3671, 26.1817, -21.0419)

[node name="ManaPotion2" parent="." instance=ExtResource("10_8iemx")]
transform = Transform3D(-4.53664, 14.4933, 0, -14.4933, -4.53664, 0, 0, 0, 15.1867, -31.5939, 34.6505, -8.02617)

[node name="StaminaPotion2" parent="." instance=ExtResource("11_64w2a")]
transform = Transform3D(0.822515, -1.84827, -3.48751, 3.68352, 1.63924, 0, 1.41794, -3.18625, 2.02302, -32.286, 35.1157, -9.94606)

[node name="HealthPotion3" parent="." instance=ExtResource("9_t1rx8")]
transform = Transform3D(2.2298, 0, 0, 0, 0.635275, 2.13739, 0, -2.13739, 0.635275, -33.4217, 36.5994, -12.0456)

[node name="coin_new" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -33.5619, 36.8545, -14.7347)

[node name="coin_new2" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -31.5596, 37.8065, -14.7347)

[node name="coin_new3" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -29.5984, 38.7093, -14.7347)

[node name="coin_new4" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -27.4398, 39.4259, -14.7347)

[node name="coin_new5" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -27.4398, 40.0411, -16.4045)

[node name="coin_new6" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -25.4051, 40.7567, -16.4045)

[node name="coin_new7" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -22.9813, 41.4179, -16.4045)

[node name="coin_new8" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -21.0626, 42.2493, -18.9843)

[node name="coin_new9" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -19.7875, 43.7395, -21.1796)

[node name="coin_new10" parent="." instance=ExtResource("12_8iemx")]
transform = Transform3D(0.0569201, 0, 0, 0, 0.0569201, 0, 0, 0, 0.0569201, -19.7875, 45.0448, -23.3968)

[node name="KillZone" type="Area3D" parent="."]
transform = Transform3D(2.13353, 0, 0, 0, 1, 0, 0, 0, 2.28761, 0, 0, 0)
script = ExtResource("13_64w2a")

[node name="CollisionShape3D" type="CollisionShape3D" parent="KillZone"]
transform = Transform3D(129.193, 0, 0, 0, 0.331851, 0, 0, 0, 117.084, 0, -8.88759, 0)
shape = SubResource("BoxShape3D_fpun6")

[node name="WinZone" type="Area3D" parent="."]
transform = Transform3D(4.45388, 0, 0, 0, 0.394048, 0, 0, 0, 1.72049, -27.8309, 45.7564, -35.8823)
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="WinZone"]
shape = SubResource("BoxShape3D_64w2a")

[node name="Marker" type="MeshInstance3D" parent="WinZone"]
visible = false
mesh = SubResource("BoxMesh_wc255")

[node name="WinScreen" type="CanvasLayer" parent="."]
script = ExtResource("14_arp2o")

[node name="WinLabel" type="Label" parent="WinScreen"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -224.0
offset_top = -156.0
offset_right = 339.0
offset_bottom = -20.0
grow_horizontal = 2
grow_vertical = 2
text = "You Win!"
label_settings = SubResource("LabelSettings_ux5qa")

[node name="Button" type="Button" parent="WinScreen"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -47.5
offset_top = -15.5
offset_right = 47.5
offset_bottom = 15.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.89972, 1.89972)
theme_override_fonts/font = ExtResource("16_8gofh")
theme_override_font_sizes/font_size = 14
text = "Reset"

[node name="Button2" type="Button" parent="WinScreen"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -48.0
offset_top = 60.0
offset_right = 47.0
offset_bottom = 91.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.91926, 1.91926)
theme_override_fonts/font = ExtResource("16_8gofh")
theme_override_font_sizes/font_size = 14
text = "Quit
"

[node name="GameManager" type="Node" parent="."]
script = ExtResource("15_arp2o")
win_zone_path = NodePath("../WinZone")
win_marker_path = NodePath("../WinZone/Marker")
win_screen_path = NodePath("../WinScreen")

[node name="barrier" parent="." instance=ExtResource("17_ux5qa")]
transform = Transform3D(0.013876, 0.0277605, -0.0291624, -0.0380931, 0.0190407, -5.24064e-10, 0.0130386, 0.0260853, 0.0310353, 13.4915, 1.66694, -17.9365)

[node name="barrier2" parent="." instance=ExtResource("17_ux5qa")]
transform = Transform3D(0.013876, 0.0277605, -0.0291624, -0.0380931, 0.0190407, -5.24064e-10, 0.0130386, 0.0260853, 0.0310353, 18.9431, 1.66694, -23.831)

[node name="barrier3" parent="." instance=ExtResource("17_ux5qa")]
transform = Transform3D(0.0214098, 0.027829, -0.0240998, -0.0353245, 0.00768046, -0.0225127, -0.0103649, 0.031308, 0.0269445, 24.3432, 4.24102, -30.1163)

[node name="pallet" parent="." instance=ExtResource("18_82cfe")]
transform = Transform3D(0.0266785, 0, 0, 0, 0.0266785, 0, 0, 0, 0.0266785, 10.4855, 0, -13.1048)

[node name="pallet2" parent="." instance=ExtResource("18_82cfe")]
transform = Transform3D(0.0266785, 0, 0, 0, 0.0261491, -0.00528873, 0, 0.00528873, 0.0261491, 10.4855, 0.305398, -11.0236)

[node name="pallet3" parent="." instance=ExtResource("18_82cfe")]
transform = Transform3D(0.0249638, -0.009408, 0.000201341, 0.00941015, 0.0249581, -0.000534129, 0, 0.000570817, 0.0266724, 8.34054, 0.536325, -12.9371)

[node name="cargo" parent="." instance=ExtResource("19_gunhw")]
transform = Transform3D(0.828354, 0, -0.560205, 0, 1, 0, 0.560205, 0, 0.828354, 33.6741, 5.37256, -32.9197)

[connection signal="area_entered" from="WinZone" to="WinScreen" method="_on_win_zone_area_entered"]
[connection signal="pressed" from="WinScreen/Button" to="WinScreen" method="_on_reset_pressed"]
[connection signal="pressed" from="WinScreen/Button2" to="WinScreen" method="_on_quit_pressed"]
